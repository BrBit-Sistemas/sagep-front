---
description: How to configure authentication
globs: 
alwaysApply: false
---
# Sistema de AutenticaÃ§Ã£o

## ğŸ” ConfiguraÃ§Ã£o de Auth

O template suporta mÃºltiplos provedores de autenticaÃ§Ã£o configurados em [src/auth/](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/auth).

### ğŸ¯ Alterar MÃ©todo de AutenticaÃ§Ã£o

1. Modifique em [global-config.ts](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/global-config.ts):

```typescript
auth: {
  method: 'jwt',        // OpÃ§Ãµes: 'jwt' | 'firebase' | 'auth0' | 'amplify' | 'supabase'
  skip: false,          // true = desabilita auth globalmente
  redirectPath: paths.dashboard.root,
}
```

### ğŸ›¡ï¸ Guards de ProteÃ§Ã£o

- **AuthGuard**: Protege rotas que precisam de usuÃ¡rio logado
- **GuestGuard**: Protege rotas que sÃ³ usuÃ¡rios nÃ£o-logados podem acessar

LocalizaÃ§Ã£o: [src/auth/guard/](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/auth/guard)

### ğŸ”„ Context de AutenticaÃ§Ã£o

O estado de auth Ã© gerenciado pelo contexto em:
- [src/auth/context/auth-context.tsx](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/auth/context/auth-context.tsx)

### ğŸ£ Hooks DisponÃ­veis

```typescript
// Hook principal para usar auth
import { useAuthContext } from 'src/auth/hooks';

const { user, loading, authenticated, login, logout } = useAuthContext();
```

## ğŸ”§ ConfiguraÃ§Ãµes por Provedor

### JWT (PadrÃ£o)
1. Configure backend URL em `.env`
2. Implemente endpoints de login/register
3. Customize em [src/auth/context/jwt/](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/auth/context/jwt)

### Firebase
1. Configure credenciais no [global-config.ts](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/global-config.ts)
2. Ative mÃ©todos de auth no Firebase Console
3. Use contexto em [src/auth/context/firebase/](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/auth/context/firebase)

### Auth0
1. Configure `clientId` e `domain` 
2. Defina callback URLs no Auth0 Dashboard
3. Contexto disponÃ­vel (implemente se necessÃ¡rio)

### AWS Amplify
1. Configure Cognito User Pool
2. Defina credenciais em [global-config.ts](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/global-config.ts)
3. Instale dependÃªncias do Amplify

### Supabase
1. Crie projeto no Supabase
2. Configure URL e chave anÃ´nima
3. Ative auth providers necessÃ¡rios

## ğŸ“± PÃ¡ginas de Auth

PÃ¡ginas prÃ©-construÃ­das em [src/auth/view/](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/auth/view):
- Login
- Registro
- RecuperaÃ§Ã£o de senha
- VerificaÃ§Ã£o

### ğŸ¨ Customizar FormulÃ¡rios

Componentes reutilizÃ¡veis em [src/auth/components/](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/auth/components):
- FormHead
- FormDivider
- FormResendCode

## ğŸ›£ï¸ Rotas Protegidas

Para proteger rotas, use os guards:

```tsx
// Rota que precisa de auth
<AuthGuard>
  <DashboardPage />
</AuthGuard>

// Rota sÃ³ para visitantes
<GuestGuard>
  <LoginPage />
</GuestGuard>
```

## ğŸ”§ Desabilitar AutenticaÃ§Ã£o

Para desenvolvimento, defina em [global-config.ts](mdc:sagep-roraima-ui/sagep-roraima-ui/sagep-front/src/global-config.ts):

```typescript
auth: {
  skip: true,  // Bypassa toda verificaÃ§Ã£o de auth
}
```
